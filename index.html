<!DOCTYPE html>
<html>
  <head>
    <title>Startup Valuation Calculator</title>
  </head>
  <body>
    <h1>Startup Valuation Calculator</h1>
    <form onsubmit="calculateValuation(event)">
      <label for="stage">Stage of the startup:</label>
      <select id="stage" required>
        <option value="idea">Idea</option>
        <option value="prototype">Prototype</option>
        <option value="revenue">Revenue</option>
      </select><br><br>
      <label for="revenue">Annual Revenue ($):</label>
      <input type="number" id="revenue" step="0.01" required><br><br>
      <label for="growthRate">Growth Rate:</label>
      <input type="number" id="growthRate" step="0.01" required><br><br>
      <label for="industryMultiplier">Industry Multiplier:</label>
      <input type="number" id="industryMultiplier" required><br><br>
      <label for="opportunityCost">Opportunity Cost ($):</label>
      <input type="number" id="opportunityCost" required><br><br>
      <label for="tam">Total Addressable Market (TAM):</label>
      <input type="number" id="tam" required><br><br>
      <label for="sam">Serviceable Addressable Market (SAM):</label>
      <input type="number" id="sam" required><br><br>
      <label for="som">Serviceable Obtainable Market (SOM):</label>
      <input type="number" id="som" required><br><br>
      <button type="submit">Calculate Valuation</button>
    </form>
    <div id="result"></div>

    <script>
      function calculateValuation(event) {
        event.preventDefault();
        var stage = document.getElementById("stage").value;
        var revenue = parseFloat(document.getElementById("revenue").value);
        var growthRate = parseFloat(document.getElementById("growthRate").value);
        var industryMultiplier = parseFloat(document.getElementById("industryMultiplier").value);
        var opportunityCost = parseFloat(document.getElementById("opportunityCost").value);
        var tam = parseFloat(document.getElementById("tam").value);
        var sam = parseFloat(document.getElementById("sam").value);
        var som = parseFloat(document.getElementById("som").value);

        var valuation = calculate_startup_valuation(stage, revenue, growthRate, industryMultiplier, opportunityCost, tam, sam, som);

        if (valuation !== null) {
          document.getElementById("result").innerText = "The startup valuation is $" + valuation;
        } else {
          document.getElementById("result").innerText = "Invalid stage entered. Please choose 'idea', 'prototype', or 'revenue'.";
        }
      }

      function calculate_startup_valuation(stage, revenue, growth_rate, industry_multiplier, opportunity_cost, tam, sam, som) {
        if (stage === 'idea') {
          return tam * 0.05;
        } else if (stage === 'prototype') {
          return tam * 0.1;
        } else if (stage === 'revenue') {
          var valuation = revenue * (1 + growth_rate) * industry_multiplier - opportunity_cost;
          return valuation * (sam / som);
        } else {
          return null;
        }
      }
    </script>
  </body>
</html>
